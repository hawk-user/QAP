name: Debug

on:
  push:
    branches:
      - main
    paths:
      - "libs/react-materials/**"
      - "test/component/libs/react-materials/**"
  pull_request:
    branches:
      - main
    paths:
      - "libs/react-materials/**"
      - "test/component/libs/react-materials/**"
  workflow_dispatch:

permissions:
  contents: read

jobs:
  component-tests:
    runs-on: ubuntu-latest

    steps:
      # ğŸ§© Ã‰tape 1 â€” RÃ©cupÃ©ration du dÃ©pÃ´t
      - name: Checkout repository
        uses: actions/checkout@v5

      # ğŸ§© Ã‰tape 2 â€” Setup Node.js
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 22

      # ğŸ§© Ã‰tape 3 â€” Installer pnpm
    #   - name: Setup pnpm
    #     run: npm install -g pnpm

      # ğŸ§© Ã‰tape 4 â€” Installer les dÃ©pendances
    #   - name: Install dependencies
    #     working-directory: test/component/libs/react-materials
    #     run: pnpm install --frozen-lockfile

      # ğŸ§© Ã‰tape 5 â€” Debug du contexte CI/CD
      # Ce script affiche les infos d'environnement et vÃ©rifie les chemins Jest.
      - name: Run debug environment script
        working-directory: test/component/libs/react-materials
        run: node debug-env.mjs

      # ğŸ§© Ã‰tape 6 â€” ExÃ©cution des tests Jest
    #   - name: Run Jest component tests
    #     working-directory: test/component/libs/react-materials
    #     run: pnpm test:component --runInBand
